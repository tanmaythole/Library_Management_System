{% extends 'layout.html' %}
{% block title %}
    Members
{% endblock %}

{% block body %}
<div class="container pt-5">
    <div class="d-flex justify-content-between align-items-center">
        <h1>Members</h1>
        <div>
            <a href="/members/add" class="btn btn-success"><i class="fas fa-plus"></i>&nbsp;&nbsp;Add Member</a>
        </div>
    </div>

    <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th scope="col">Member Id</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Outstanding Debt</th>
            <th scope="col">Amount Spent</th>
            <th scope="col">Registered On</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
        
        {% for member in members %}
            <tr>
                <th scope="row">{{ member.id }}</th>
                <td>{{ member.name }}</td>
                <td>{{ member.email }}</td>
                <td>{{ member.outstanding_debt }}</td>
                <td>{{ member.amount_spent }}</td>
                <td>{{ member.registered_on }}</td>
                <td>
                    <a href="/members/edit/{{ member.id }}" class="btn btn-sm btn-primary mx-1">
                        <i class="far fa-edit"></i>
                    </a>
                    <a href="/members/delete/{{ member.id }}" class="btn btn-sm btn-danger mx-1">
                        <i class="fas fa-trash-alt"></i>
                    </a>
                </td>
            </tr>
        {% endfor %}
        
        </tbody>
    </table>

    <div class="d-flex justify-content-between align-items-center pb-5">
        <a href="{{ prev }}" class="btn btn-primary {% if prev == '#' %}disabled{% endif %}"><i class="fas fa-backward"></i>&nbsp;&nbsp;Previous</a>
        <div class="text-muted">Showing {{ pagination_msg.start }} to {{ pagination_msg.end }} of {{ pagination_msg.total }} entries</div>
        <a href="{{ next }}" class="btn btn-primary {% if next == '#' %}disabled{% endif %}">Next&nbsp;&nbsp;<i class="fas fa-forward"></i></a>
    </div>
</div>
{% endblock %}