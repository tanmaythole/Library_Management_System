{% extends 'layout.html' %}
{% block title %}
    Reports
{% endblock %}
{% block body %}
    <div class="container py-5">
        <div>
            <h1>Most Popular Books</h1>
    
            <table class="table table-striped table-bordered">
                <thead>
                  <tr>
                    <th scope="col">Book Id</th>
                    <th scope="col">Title</th>
                    <th scope="col">Authors</th>
                    <th scope="col">Total Books</th>
                    <th scope="col">Available Books</th>
                    <th scope="col">Ratings</th>
                  </tr>
                </thead>
                <tbody>
                
                {% for book in books %}
                    <tr>
                        <th scope="row">{{ book.id }}</th>
                        <td>{{ book.title }}</td>
                        <td>{{ book.authors }}</td>
                        <td>{{ book.quantity }}</td>
                        <td>{{ book.available_books }}</td>
                        <td>{{ book.average_rating }}</td>
                    </tr>
                {% endfor %}
                
                </tbody>
            </table>
        </div>


        <div class="py-5">
            <h1>Highest Paying Customers</h1>
    
            <table class="table table-striped table-bordered">
                <thead>
                  <tr>
                    <th scope="col">Member Id</th>
                    <th scope="col">Name</th>
                    <th scope="col">Email</th>
                    <th scope="col">Amount Spent</th>
                    <th scope="col">Outstanding Debt</th>
                    <th scope="col">Registered On</th>
                  </tr>
                </thead>
                <tbody>
                
                {% for member in members %}
                    <tr>
                        <th scope="row">{{ member.id }}</th>
                        <td>{{ member.name }}</td>
                        <td>{{ member.email }}</td>
                        <td>{{ member.amount_spent }}</td>
                        <td>{{ member.outstanding_debt }}</td>
                        <td>{{ member.registered_on }}</td>
                    </tr>
                {% endfor %}
                
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}